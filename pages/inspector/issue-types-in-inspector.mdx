import { Callout } from 'nextra/components';

# Issue Types in Avo Inspector

- [Event unexpected by tracking plan](#event-unexpected-by-tracking-plan)
- [Event unexpected on source](#event-unexpected-on-source)
- [Property type does not match tracking plan](#property-type-does-not-match-tracking-plan)
- [Property type inconsistent](#property-type-inconsistent)
- [Property unexpected on event](#property-unexpected-on-event)
- [Required property sometimes missing from event](#required-property-sometimes-missing-from-event)
- [Property value does not match constraints](#property-value-does-not-match-constraints)

## Event and property structure issues

### Event unexpected by tracking plan

Detects events that are not defined in the tracking plan

_**Example:** Event Signup Completed not found in Tracking Plan._

### Event unexpected on source

Detects events that are not expected from a specific source according to the Tracking Plan

_**Example:** Event unexpected on iOS by tracking plan_

### Property type does not match tracking plan

Detects properties with different types than defined in the tracking plan

_**Example:** Property seen as *bool* but expected as *string*._

### Property type inconsistent

Detects properties seen with multiple different types

_**Example:** Property types seen: **object**, **string**._

### Property unexpected on event

Detects properties on events where they are not expected according to the tracking plan

_**Example:** Property unexpected on event by tracking plan_

### Required property sometimes missing from event

Detects properties that are required in the tracking plan but sometimes missing

_**Example:** Property set as *always sent* on "App Opened" in tracking plan but missing on event_

## Property value issues

Property value issues are detected when you have [property value validation](/inspector/inspector-debugger#decrypting-property-values) enabled and are available in the [Inspector Debugger](/inspector/inspector-debugger). Property values are sent encrypted to Avo and can be decrypted locally in the [Inspector Debugger](/inspector/inspector-debugger#decrypting-property-values).

<Callout type="info">
  Property value issues are currently only available for the Inspector Web SDK and Segment integration. Support on other platforms coming soon. Reach out to support if you need property value validation for other platforms. 
</Callout>

### Property value does not match constraints

Detects property values that don't match the [property constraints](/data-design/avo-tracking-plan/properties#property-types-and-constraints) defined in your tracking plan.

#### String properties

- **Property value does not match regex** - The string value doesn't match the regex pattern defined in the tracking plan

  _**Example:** Property email has value "invalid-email" but expected to match regex pattern `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`_

- **Property value does not match allowed values** - The string value is not in the list of allowed values defined in the tracking plan

  _**Example:** Property role has value "NPC" but expected one of: "Admin", "User", "Guest"_

#### Numerical properties

- **Property value lower than defined min** - The numerical value is below the minimum value defined in the tracking plan

  _**Example:** Property age has value -5 but minimum allowed value is 0_

- **Property value higher than defined max** - The numerical value exceeds the maximum value defined in the tracking plan

  _**Example:** Property rating has value 15 but maximum allowed value is 10_

#### Object properties

- **Required key sometimes missing from object property** - A required key in an object property is sometimes missing

  _**Example:** Object property address is missing required key "country"_

- **Object key unexpected on object property** - An unexpected key is present in an object property

  _**Example:** Object property address has unexpected key "planet"_

- **Object property value does not match constraints** - Values within object properties are also validated against the same string, numerical, and object constraints as above

  _**Example:** Object property address has key "zip_code" with value "ABC" but expected to match regex pattern `^\d{5}$`_

## Upcoming Issue Types in Avo Inspector

Here are some of the issue types we're planning on adding in the future. Reach out if you'd like to see any of these sooner than others.

- [Event missing on some sources (coming soon)](#event-missing-on-some-sources-coming-soon)
- [Property missing on some sources (coming soon)](#property-missing-on-some-sources-coming-soon)
- [Event volume change significant between versions (coming soon)](#event-volume-change-significant-between-versions-coming-soon)
- [Event volume significantly different between sources (coming soon)](#event-volume-significantly-different-between-sources-coming-soon)
- [Event name casing (coming soon)](#event-name-casing-coming-soon)
- [Property name casing (coming soon)](#property-name-casing-coming-soon)
- [Global property type mismatch (coming soon)](#global-property-type-mismatch-coming-soon)

### Event missing on some sources (coming soon)

Detects events sent by one platform, but not sent by another. Can be a sign of missing tracking calls.

_**Example:** iOS sends App Opened event, but Android does not._

### Property missing on some sources (coming soon)

Detects properties sent by one platform, but not sent by another.

_**Example:** iOS sends user id with the App Opened event, but Android does not._

### Event volume change significant between versions (coming soon)

Detects significant changes in event volume between app versions.

_**Example:** Volume of event App Opened drop by 25% between versions v1.3.2 and v1.3.3 on iOS_

### Event volume significantly different between sources (coming soon)

Detects events sent way more frequently by one platform versus another adjusted for sessions number. Can be a sign of duplicated or missing tracking calls.

_**Example:** iOS is sending 10x more volume per session than Android of the App Opened event._

### Event name casing (coming soon)

Detects event names spelled in undesirable casing.

_**Example:** Event open_app is snake case, expected title case (Open App)._

### Property name casing (coming soon)

Detects property names spelled in undesirable casing.

_**Example:** The property onboarding_status on event App Opened is snake_case, expected camel case (onboardingStatus)._

### Global property type mismatch (coming soon)

Detects properties with identical names and different types across all registered event schemas.

_**Example:** Inconsistent type of property revenue on events Purchase Completed: int and Checkout Completed: string._

## Smart Issues (coming soon)

- [Similar event names](#similar-event-names)
- [Similar property names within event](#event-similar-property-names)
- [Unexpected type based on property name](#property-expected-type-mismatch)
- [Global similar property names](#global-similar-property-names)
- [Missing property based on property bundle pattern](#missing-usual-property-in-similar-events)

### Similar event names

Detects similar event names, that can point to duplicate tracking.

_**Example:** Potentially multiple events describing the same user action: App Opened, App Open, open_app + 2 more events._

### Similar property names within event

Detects similar property names in a single event.

_**Example:** Potentially multiple versions of the same property: onboarding_status, onboardingStatus, and Onboarding State._

### Unexpected type based on property name

Detects when a property name that is often associated with a specific type has some other type.

_**Example:** Revenue property is string type (expected to be a number)._

### Global similar property names (low)

Detects similar property names across all registered event schemas.

_**Example:** Potentially multiple versions of the same property: onboarding_status, onboardingStatus, and Onboarding State._

### Missing property based on property bundle pattern

Detects missing property in a bundle of similarly looking properties.

_**Example:** Property onboarding_status is sent with 4 out of 5 events of the Onboarding events bundle._
