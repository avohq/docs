import Link from '../../components/Link';

# Getting started to use Inspector alongside Avo Codegen

You need to do minor setup to enable **Codegen** to start reporting to **Avo Inspector**.

Common steps for all platforms:

1. Avo Inspector should be enabled for given source. Open <Link passHref href="/workspace/inspector">Inspector tab</Link> in the side menu in your [Avo workspace](https://www.avo.app/schemas/), then press "Manage Sources" button at the top, choose your source from the grid and wait until you see the `API Key`. Once the `API Key` appears you source is considered Inspector-enabled.

2. Your Avo generated file should use Avo version 63.10.0 or greater. You can find the version in the comment at the top of the generated file. If the version is older than 63.10.0 run `avo pull` again.

Platform specific setup:

<details>

<summary>
  <strong>iOS</strong>
</summary>
<p />
Codegen on iOS automatically report to Avo Inspector since Avo version >=
`63.10.0` and Inspector SDK version >= `1.2.0`.

> Make sure `AvoInspector` dependency in your podfile is equal or greater than `1.2.0`.

> You can use your own separate instance of Avo Inspector as <a
>   target="\_blank"
>   rel="noopener noreferrer"
>   href="https://github.com/avohq/ios-avo-inspector">described here</a> to analyze your tracking outside of Codegen, it will report the data correctly alongside Codegen.

</details>

---

<details>
<summary><strong>Android</strong></summary>
<p/>
To enable Codegen to report to Avo Inspector automatically you would need to provide an instance of Avo Inspector, <a target="\_blank" rel="noopener noreferrer" href="https://github.com/avohq/android-avo-inspector">check the quick start guide for how to create one</a>, when initializing Avo and use Avo version >= `63.10.0` and Avo Inspector SDK version >= `1.2.0`.

> Make sure `com.github.avohq:android-avo-inspector` dependency in your build.gradle file is equal or greater than `1.2.0`.

> Generated Avo file exposes **avoInspectorApiKey** constant that contains your Inspector API key.

This is how your Avo initialization code should look like:

```kotlin
import app.avo.inspector.AvoInspector
import app.avo.inspector.AvoInspectorEnv

val inspector = AvoInspector(avoInspectorApiKey,
    application, AvoInspectorEnv.Dev)

Avo.initAvoWithInspector(inspector, ...)
```

```java
import app.avo.inspector.AvoInspector;
import app.avo.inspector.AvoInspectorEnv;

AvoInspector inspector = new AvoInspector(StaticAvo.avoInspectorApiKey, getApplication(), AvoInspectorEnv.Dev);

Avo.initAvoWithInspector(..., inspector);
```

> You can use the same instance of Avo Inspector to analyze your tracking outside of Codegen, it will report the data correctly alongside Codegen.

</details>

---

<details>
<summary><strong>Web</strong></summary>
<p/>
To enable Codegen to report to Avo Inspector automatically you provide an instance of Inspector when initializing Avo. This requires Avo version >= `63.10.0` and Avo Inspector SDK version >= `1.2.0`. <a target="\_blank" rel="noopener noreferrer" href="https://github.com/avohq/js-avo-inspector/">Check the quick start guide for how to create an Avo Inspector instance</a>.

> `avo-inspector` dependency in your package.json file should be equal or greater than 1.2.0.

> Generated Avo file exposes **avoInspectorApiKey** constant that contains your Inspector API key.

This is how your Avo initialization code should look like:

```javascript
const Inspector = require("avo-inspector");

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo( { env: "dev", inspector: inspector}, ...);
```

```typescript
import * as Inspector from "avo-inspector";

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo({ env: Avo.AvoEnv.Dev, inspector: inspector }, ...);
```

> You can use the same instance of Avo Inspector to analyze your tracking outside of Codegen, it will report the data correctly alongside Codegen.

</details>

---

<details>
<summary><strong>Node</strong></summary>
<p/>
To enable Codegen to report to Avo Inspector automatically you provide an instance of Inspector when initializing Avo. This requires Avo version >= `71.34.0` and Avo Inspector SDK version >= `0.1.0`. <a target="\_blank" rel="noopener noreferrer" href="https://github.com/avohq/node-avo-inspector">Check the quick start guide for how to create an Avo Inspector instance</a>.

> `node-avo-inspector` dependency in your package.json file should be equal or greater than 0.1.0.

> Generated Avo file exposes **avoInspectorApiKey** constant that contains your Inspector API key.

This is how your Avo initialization code should look like:

```javascript
const Inspector = require("node-avo-inspector");

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo( { env: "dev", inspector: inspector}, ...);
```

```typescript
import * as Inspector from "node-avo-inspector";

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo({ env: Avo.AvoEnv.Dev, inspector: inspector }, ...);
```

> You can use the same instance of Avo Inspector to analyze your tracking outside of Codegen, it will report the data correctly alongside Codegen.

</details>

---

<details>
<summary><strong>React Native</strong></summary>
<p/>
To enable Codegen to report to Avo Inspector automatically you provide an instance of Inspector when initializing Avo. This requires Avo version >= `63.10.0` and Avo Inspector SDK version >= `1.2.0`. <a target="\_blank" rel="noopener noreferrer" href="https://github.com/avohq/js-avo-inspector/tree/react-native-node-package">Check the quick start guide for how to create an Avo Inspector instance</a>.

> `react-native-avo-inspector` dependency in your package.json file should be equal or greater than 1.2.0.

> Generated Avo file exposes **avoInspectorApiKey** constant that contains your Inspector API key.

This is how your Avo initialization code should look like:

```javascript
const Inspector = require("react-native-avo-inspector/dist-native");

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo( { env: "dev", inspector: inspector}, ...);
```

```typescript
import * as Inspector from "react-native-avo-inspector/dist-native";

const inspector = new Inspector.AvoInspector({
  apiKey: Avo.avoInspectorApiKey,
  env: Inspector.AvoInspectorEnv.Dev,
  version: "1.0.0",
  appName: "My App"
});
Avo.initAvo({ env: Avo.AvoEnv.Dev, inspector: inspector }, ...);
```

> You can use the same instance of Avo Inspector to analyze your tracking outside of Codegen, it will report the data correctly alongside Codegen.

</details>
